vendor_id: 0x00004321
product_id: 0x0000100a

# assign_activate: 0x0300        # DC sync
auto_fault_reset: true         # Manual fault reset
auto_enable_set: true
auto_state_transitions: true  # Automatic state transitions
dc_mode: true

# --- SDO Startup Configuration ---
# You can uncomment these SDOs if required, but ensure they are necessary.
# For initial startup, it is often best to keep only critical settings.
# sdo:
  # - {index: 0x5006, sub_index: 0, type: uint16, value: 0}
  # - {index: 0x5004, sub_index: 0x09, type: uint16, value: 0}
  # - {index: 0x5004, sub_index: 0x0D, type: uint16, value: 40000}
  # - {index: 0x1C12, sub_index: 1, type: int8, value: 0}
#   - {index: 0x1C12, sub_index: 0, type: int8, value: 0}
#   - {index: 0x1C13, sub_index: 1, type: int8, value: 0}
#   - {index: 0x1C13, sub_index: 0, type: int8, value: 0} 
  # - {index: 0x6040, sub_index: 0, type: uint16, value: 0x80}  # Fault reset
  # - {index: 0x6040, sub_index: 0, type: uint16, value: 0x80}  # Fault reset
  # - {index: 0x6040, sub_index: 0, type: uint16, value: 0x80}  # Fault reset
  # - {index: 0x6040, sub_index: 0, type: uint16, value: 0x80}  # Fault reset
  # - {index: 0x6040, sub_index: 0, type: uint16, value: 0x80}  # Fault reset
  # - {index: 0x6040, sub_index: 0, type: uint16, value: 0x80}  # Fault reset
  # - {index: 0x6040, sub_index: 0, type: uint16, value: 0x80}  # Fault reset
  # - {index: 0x6040, sub_index: 0, type: uint16, value: 0x80}  # Fault reset
  # - {index: 0x6040, sub_index: 0, type: uint16, value: 0x80}  # Fault reset
  # - {index: 0x6040, sub_index: 0, type: uint16, value: 0x80}  # Fault reset


  
  # Set operation mode to Cyclic Synchronous Position (CSP) - CiA 402 value 8.
  # - {index: 0x6060, sub_index: 0, type: int8, value: 8} 
  
  # Set interpolation time for cyclic modes to 1 ms (10e-3s in your commented code)
  # NOTE: 1ms is usually better for motion, but 10ms may be required based on your ELD3 setup.
  # - {index: 0x60C2, sub_index: 1, type: int8, value: 1}  # Set interpolation time unit (e.g., 1ms)
  # - {index: 0x60C2, sub_index: 2, type: int8, value: -3} # Set base 10-3s (1 ms)

rpdo:
  - index: 0x1600
    channels:
      - {index: 0x6040, sub-index: 0, type: uint16, default: 0} # Control Word
      - {index: 0x607a, sub-index: 0, type: int32, command_interface: position, default: .nan, offset: 0} # Target Position
      # - {index: 0x60b8, sub-index: 0, type: uint16, default: 0}
      

tpdo:  # TxPDO 
  - index: 0x1a00
    channels:
      - {index: 0x603f, sub_index: 0, type: uint16}
      - {index: 0x6041, sub_index: 0, type: uint16}
      - {index: 0x6061, sub_index: 0, type: uint8}
      - {index: 0x6064, sub_index: 0, type: int32, state_interface: position, offset: 0}
      # - {index: 0x60b9, sub_index: 0, type: uint16}
      # - {index: 0x60ba, sub_index: 0, type: uint32}
      # - {index: 0x60fd, sub_index: 0, type: uint32}

# --- Synchronization Manager (SM) Assignment ---
# This part is critical. We use the Fixed PDO indices (0x1601/0x1A01) here.
sm:
  - {index: 0, type: output, pdo: ~, watchdog: disable}
  - {index: 1, type: input, pdo: ~, watchdog: disable}
  - {index: 2, type: output, pdo: rpdo, watchdog: enable}
  - {index: 3, type: input, pdo: tpdo, watchdog: disable}